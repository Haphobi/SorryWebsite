<!DOCTYPE html>
<html lang="en">
<!-- github.com/Haphosm || Hapho#3077 -->
	<head>
		<meta charset="UTF-8">
		<title>i'm sorry</title>
		<link rel="icon" type="image/x-icon" href="https://cdn.discordapp.com/avatars/613591009531789319/55e48b40fa5d3c15a5ca79dc06537040?size=1024">
		<link rel="stylesheet" href="styles.css">
	</head>
	<body>
		<!-- !! add watermark-->
		<div id="backgroundDiv">	
			<div id="inputDiv">
				<table>
					<tr><td id="headerTableCell1">
							<div style="display: flex; align-items: center;">
								<textarea id="input" placeholder="change the text" class="input" wrap="soft"></textarea>
								<input type="button" onclick="submit()" value="submit" class="input" id="submitButton" style="border-top-right-radius: 50vmin; border-bottom-right-radius:50vmin;border-left:0;">
							</div>
						</td><td id="headerTableCell2">
							<button class="input" id="settingsButton" onclick="settingsOpen()" style="margin-right:0.25vmin;"><img src="settings_gear.png" style="filter:invert();" class="button-image"></button>
						</td><td id="headerTableCell3">
							<button class="input" id="aboutButton" style="margin-left:0.25vmin;margin-right:0;"><img src="question_mark.png" style="filter:invert();" class="button-image"></button>
					</td></tr>
				</table>
			</div>
			<h1 id="sorryH1"></h1>

			<div class="settings">
				<h1>Customisation</h1>
				<label>String count (how many words): <input class="inSettings" type="number" inputmode="numeric" pattern="[0-9]" min="1" max="500"><button class="inSettings">Apply</button></label><br/>
				<label>Theme Color: <input class="inSettings" type="color" value="#00ffff"><button class="inSettings">Apply</button></label><br/>
				<label>Text Color:<input class="inSettings" type="color" value="#ffffff"><button class="inSettings">Apply</button></label>
				<h2>Background</h2>
				<label>Background type:</label><br/>
					<label>Color<input class="inSettings" type="radio" name="backgroundType"></label>
					<input class="inSettings" id="backgroundColor" type="color"><br/>
					<label>Image<input class="inSettings" type="radio" name="backgroundType" checked="checked"></label>
					<input id="backgroundImage" class="inSettings" type="file">
					<button class="inSettings">Apply</button>
			</div>
		</div>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
		<script type="text/javascript">
			var defaultText = "Bread";
			const textarea = document.getElementById("input");
			
			
			function settingsOpen() {
				document.querySelector("#settingsButton").setAttribute('onclick','settingsClose()')
				document.querySelector("#sorryH1").style = "display:none;"
				document.querySelector(".settings").style = "display:block;"
			}
			
			function settingsClose() {
				document.querySelector("#settingsButton").setAttribute('onclick','settingsOpen()')
				document.getElementById("sorryH1").style = "display:block;"
				document.querySelector(".settings").style = "display:none;"
			}
			
			function submit() {
				var inputData = document.getElementById("input").value;
				renderText(inputData);
				document.getElementById("input").value = "";
			}
			renderText(defaultText);
			
			function renderText(text) {
				n = 2003;
				document.getElementById("sorryH1").innerHTML = "";
				while(n>=0) {
					document.getElementById("sorryH1").innerHTML = document.getElementById("sorryH1").innerHTML + text + " ";
					n--;
				}
			}

			textarea.addEventListener("keydown", function(event) {
			if (event.key === "Enter") {
				event.preventDefault();
				submit();
			}
			});
			
		</script>
	</body>
</html>
